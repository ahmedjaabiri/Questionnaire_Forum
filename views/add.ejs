<!DOCTYPE html>
<html>
  <head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="/assets/semantic/semantic.min.css" />
    <style>
      .main.container {
        margin-top: 7em;
      }
      .inputfile {
        width: 0.1px;
        height: 0.1px;
        opacity: 0;
        overflow: hidden;
        position: absolute;
        z-index: -1;
      }
    </style>
  </head>
  <body style="padding-left: 15%; padding-right: 15%; padding-bottom: 10%;">
    <h1>Add form</h1>

    <form action="/add" method="POST" class="ui form" name="form">
      <div class="field">
        <label for="name">Donner le nom du formulaire</label>
        <input type="text" name="formname" id="formname" />
      </div>

      <script>
        var i = 2;
        function replibre() {
          var parent = document.getElementById("parentDiv");
          var label = document.createElement("label");
          label.innerHTML = "Donner le question suivant";
          var input = document.createElement("input");
          input.setAttribute("type", "text");
          input.setAttribute("id", "qstl" + i);
          input.setAttribute("name", "qstl" + i);
          parent.appendChild(label);
          parent.appendChild(input);
          i++;
        }
      </script>
      <h3>Ajouter une question à réponse libre</h3>
      <div class="field">
        <div class="field" name="parentDiv" id="parentDiv">
          <label for="qstl1">Donner le question à ajouter</label>
          <input type="text" name="qstl1" id="qstl1" />
        </div>
        <button
          type="button"
          onclick="replibre()"
          class="ui blue labeled icon button"
        >
          <i class="icon add"></i>add
        </button>
      </div>
      <script>
        var j = 2;
        function repchoix() {
          var parent = document.getElementById("qstc");
          var div = document.createElement("div");
          div.setAttribute("id", "d" + j);
          div.setAttribute("name", "d" + j);
          var label = document.createElement("label");
          label.innerHTML = "Donner le question suivant";
          var input = document.createElement("input");
          input.setAttribute("type", "text");
          input.setAttribute("id", "qstc" + j);
          input.setAttribute("name", "qstc" + j);
          div.appendChild(label);
          div.appendChild(input);
          parent.appendChild(div);
          //opt
          var label2 = document.createElement("label");
          label2.innerHTML = "Donner l'option";
          var input2 = document.createElement("input");
          input2.setAttribute("type", "text");
          input2.setAttribute("id", "opt" + j + "1");
          input2.setAttribute("name", "opt" + j + "1");
          div.appendChild(label2);
          div.appendChild(input2);
          var btn = document.createElement("button");
          btn.setAttribute("type", "button");
          btn.setAttribute("class", "ui black button");
          btn.setAttribute("onclick", "addopt(" + j + ")");
          btn.innerHTML = "<i class='icon add'></i>add option";
          parent.appendChild(btn);
          j++;
        }
        var n = 0;
        var k = 2;
        function addopt(k) {
          qst = document.getElementById("d" + k);
          var label3 = document.createElement("label");
          label3.innerHTML = "Donner l'option";
          console.log("nbr" + qst.childElementCount);
          n = qst.childElementCount / 2;
          var input3 = document.createElement("input");
          input3.setAttribute("type", "text");
          input3.setAttribute("id", "opt" + k + n);
          input3.setAttribute("name", "opt" + k + n);
          qst.appendChild(label3);
          qst.appendChild(input3);
        }
      </script>
      <h3>Ajouter une question à choix</h3>
      <div id="parentqstc">
        <div class="field" id="qstc">
          <div id="d1" class="field">
            <label>Donner le question à ajouter</label>
            <input type="text" name="qstc1" id="qstc1" />
            <label for="opt1">Donner l'option</label>
            <input type="text" name="opt11" id="opt11" />
          </div>
          <button type="button" class="ui black button" onclick="addopt(1)">
            <i class="icon add"></i>add option
          </button>
        </div>
        <button
          type="button"
          onclick="repchoix()"
          class="ui blue labeled icon button"
        >
          <i class="icon add"></i>add question
        </button>
      </div>
      <br />
      <button type="submit" class="ui blue labeled submit icon button">
        <i class="icon add"></i>Envoyer
      </button>
    </form>
  </body>
</html>
